# =============================================================================
# Preview Overlay Kustomization Template
# =============================================================================
# This is a template for the preview kustomization.yaml
# The script will load this and substitute variables
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

metadata:
  annotations:
    config.kubernetes.io/local-config: 'true'

namespace: preview-pr-__PR_NUMBER__

resources:
  - ../../base
  - resource-quota.yaml
  - limit-range.yaml

patches:
  - path: patches/externalsecret-db-patch.yaml
  - path: patches/externalsecret-openai-patch.yaml
  - path: patches/externalsecret-storage-patch.yaml
  - path: patches/secretstore-delete-patch.yaml
  - path: patches/configmap-patch.yaml
  - path: patches/ingress-patch.yaml
  - path: patches/resources-patch.yaml
  - path: patches/replicas-patch.yaml
  - path: patches/migration-job-patch.yaml

