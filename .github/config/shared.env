# =============================================================================
# Shared Environment Variables
# =============================================================================
# Single source of truth for environment variables shared across workflows.
# This file is loaded into $GITHUB_ENV at the start of each job via the
# load-shared-env composite action.
#
# IMPORTANT NOTES:
# - Do NOT put secrets here. Use GitHub Secrets for sensitive values.
# - These values are only available to job steps, NOT to workflow expressions
#   (if:, matrix:, etc.) which are evaluated before steps run.
# - Environment-specific overrides should be set in individual workflows AFTER
#   loading this file (values set later override earlier values).
#
# FORMAT: KEY=VALUE (no quotes needed unless you want them in the value)
# =============================================================================

# Container Registry
ACR_NAME=acrytsummprd
ACR_LOGIN_SERVER=acrytsummprd.azurecr.io

# Application Names
APP_NAME=yt-summarizer
API_IMAGE_NAME=yt-summarizer-api
WORKERS_IMAGE_NAME=yt-summarizer-workers

# Namespaces
NAMESPACE_ARGOCD=argocd

# Worker List (comma-separated deployment names)
WORKER_DEPLOYMENTS=transcribe-worker,summarize-worker,embed-worker,relationships-worker

# URLs
HEALTH_CHECK_PATH=/health/ready

# Timeouts (seconds)
ARGOCD_OPERATION_TIMEOUT_THRESHOLD=300
HEALTH_CHECK_MAX_ATTEMPTS=10
HEALTH_CHECK_INTERVAL=15
HEALTH_CHECK_TIMEOUT=30

# Paths
ARGOCD_MANIFESTS_PATH=k8s/argocd

# Tool Versions
TERRAFORM_VERSION=1.12
KUSTOMIZE_VERSION=5.8.0
NODE_VERSION=22

# =============================================================================
# ENVIRONMENT-SPECIFIC OVERRIDES
# =============================================================================
# These values differ between environments and should be set in the workflow
# AFTER loading this file (later assignments override earlier ones):
#
# Production-specific (deploy-prod.yml):
#   ARGOCD_APP_NAME_PROD=yt-summarizer-prod
#   NAMESPACE_PROD=yt-summarizer
#   PRODUCTION_URL=${{ vars.PRODUCTION_URL || 'https://api.yt-summarizer.example.com' }}
#   ARGOCD_SYNC_TIMEOUT=360
#   KUSTOMIZE_OVERLAY_PROD=k8s/overlays/prod
#
# Preview-specific (preview.yml):
#   PREVIEW_NAMESPACE_PREFIX=preview-pr-
#   APPS_BASE_DOMAIN=yt-summarizer.apps.ashleyhollis.com
#   ARGOCD_SYNC_TIMEOUT=180
#   KUSTOMIZE_OVERLAY_PREVIEW=k8s/overlays/preview
#   MAX_PREVIEWS=3
#
# GitHub Variables (can override defaults):
#   ACR_NAME=${{ vars.ACR_NAME || 'acrytsummprd' }}
#   ACR_LOGIN_SERVER=${{ vars.ACR_LOGIN_SERVER || 'acrytsummprd.azurecr.io' }}
# =============================================================================
