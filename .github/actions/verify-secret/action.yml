name: 'Verify Secret Configured'
description: 'Verifies that a required secret is configured before proceeding'
inputs:
  secret-name:
    description: 'Display name of the secret being verified'
    required: true
  secret-value:
    description: 'Value of the secret to check (should be passed from secrets context)'
    required: true
  error-message:
    description: 'Custom error message to display if secret is missing'
    required: false
    default: ''
runs:
  using: composite
  steps:
    - name: Verify secret is configured
      shell: bash
      env:
        SECRET_VALUE: ${{ inputs.secret-value }}
        SECRET_NAME: ${{ inputs.secret-name }}
        ERROR_MESSAGE: ${{ inputs.error-message }}
      run: bash ${{ github.action_path }}/script.sh
