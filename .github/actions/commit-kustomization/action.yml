name: 'Commit Kustomization Changes'
description: 'Commits and pushes kustomization changes to the repository'
inputs:
  file-path:
    description: 'Path to the kustomization file to commit (relative to repo root)'
    required: true
  commit-message:
    description: 'Commit message to use'
    required: true
  git-branch:
    description: 'Branch to push to'
    required: false
    default: 'main'
outputs:
  committed:
    description: 'Whether changes were committed (true/false)'
    value: ${{ steps.commit.outputs.committed }}
runs:
  using: composite
  steps:
    - name: Commit and push changes
      id: commit
      shell: bash
      env:
        FILE_PATH: ${{ inputs.file-path }}
        COMMIT_MESSAGE: ${{ inputs.commit-message }}
        GIT_BRANCH: ${{ inputs.git-branch }}
      run: bash ${{ github.action_path }}/script.sh
