name: 'Get GitHub App Token'
description: 'Generate an installation access token for a GitHub App'
inputs:
  app-id:
    description: 'GitHub App ID'
    required: true
  private-key:
    description: 'GitHub App private key (PEM format)'
    required: true
  repository:
    description: 'Repository to generate token for (owner/repo)'
    required: false
    default: ${{ github.repository }}
outputs:
  token:
    description: 'GitHub App installation access token'
    value: ${{ steps.generate-token.outputs.token }}
runs:
  using: composite
  steps:
    - name: Generate token
      id: generate-token
      uses: actions/create-github-app-token@v1
      with:
        app-id: ${{ inputs.app-id }}
        private-key: ${{ inputs.private-key }}
        owner: ${{ github.repository_owner }}
        repositories: ${{ inputs.repository }}
